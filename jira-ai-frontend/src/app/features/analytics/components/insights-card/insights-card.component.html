<div class="insights-card">
  <div class="card">
    <div class="card-header">
      <h3>
        <i class="fas fa-lightbulb"></i>
        AI Learning Insights
      </h3>
      <span class="count">{{ insights.length }}</span>
    </div>
    <div class="card-body">
      <div class="insights-list">
        <div 
          class="insight-item" 
          *ngFor="let insight of displayedInsights"
          [ngClass]="getInsightClass(insight.type)">
          <div class="insight-icon">
            <i class="fas" [ngClass]="insight.icon"></i>
          </div>
          <div class="insight-content">
            <div class="insight-header">
              <h4>{{ insight.title }}</h4>
              <span class="impact-badge" [ngClass]="getInsightClass(insight.type || insight.color)">
                {{ insight.type || insight.color }}
              </span>
            </div>
            <p>{{ insight.description || insight.message }}</p>
            <span class="insight-category" *ngIf="insight.category">{{ insight.category }}</span>
          </div>
        </div>
      </div>

      <button 
        class="show-more-btn" 
        *ngIf="insights.length > 3"
        (click)="toggleShowAll()">
        {{ showAll ? 'Show Less' : 'Show All (' + insights.length + ')' }}
        <i class="fas" [ngClass]="showAll ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
      </button>
    </div>
  </div>
</div>